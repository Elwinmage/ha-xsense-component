# ha-xsense-component_test

## Обзор
Эта интеграция для Home Assistant позволяет использовать устройства Xsense в системе умного дома. Интеграция основана на оригинальном коде [Theo Snel](https://github.com/theosnel/homeassistant-core/tree/xsense/homeassistant/components/xsense) и была выпущена с его разрешения и в сотрудничестве с ним.

До тех пор, пока не будет доступна официальная интеграция для Home Assistant от Тео, будет использоваться эта интеграция через HACS, которая регулярно обновляется для добавления новых функций и исправления существующих проблем. Эта интеграция позволяет пользователям легко интегрировать свои устройства Xsense в Home Assistant и использовать их для различных автоматизаций и мониторинга.

![images](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/c49a97f2-5e10-4129-82bc-1d647adc0895)

## Функции
- Интеграция различных устройств Xsense в Home Assistant.
- Поддержка автоматизаций на основе данных сенсоров Xsense.
- Поддержка следующих типов устройств: базовые станции, датчики дыма, датчики угарного газа, датчики температуры, датчики воды и гигрометры.
- Простая установка через HACS (Home Assistant Community Store).

## Требования
- Рабочий сервер Home Assistant (рекомендуется последняя версия).
- Аккаунт Xsense с поддерживаемыми устройствами.
- HACS должен быть установлен в Home Assistant для установки интеграции.

## Видеоурок
Для подробного руководства по установке и настройке интеграции вы можете посмотреть следующее видео:

[![X-Sense Home Assistant Integration](https://img.youtube.com/vi/3CCKK-qX-YA/0.jpg)](https://www.youtube.com/watch?v=3CCKK-qX-YA)

____________________________________________________________

## Подготовка
Перед установкой интеграции необходимо выполнить несколько подготовительных шагов:

- **Создайте вторую учетную запись в приложении X-Sense (для использования с Home Assistant)**: Поскольку невозможно одновременно войти в приложение и в Home Assistant с одной и той же учетной записью, рекомендуется использовать отдельную учетную запись для Home Assistant. Это предотвратит постоянное отключение между приложением и Home Assistant. Дополнительная учетная запись обеспечит бесперебойную интеграцию и использование без частых подключений и отключений.

- **Поделитесь поддерживаемыми устройствами с основной учетной записи на учетную запись Home Assistant**: Используйте приложение X-Sense для того, чтобы поделиться **только поддерживаемыми устройствами** с недавно созданной учетной записью. Таким образом, вы сможете легко использовать интеграцию в Home Assistant, управляя устройствами через основную учетную запись.

![image](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/9cc18693-5f37-49c5-a67d-22602fa7eef5)

____________________________________________________________

## Установка через HACS
1. **Откройте HACS в Home Assistant**:
   HACS — это важное расширение для Home Assistant, которое позволяет легко устанавливать пользовательские интеграции.

   ![Download (1)](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/3220c686-f53f-4766-9523-e3272a6ff104)

2. **Перейдите к пользовательским репозиториям**:
   Перейдите на панель HACS, затем в настройки и добавьте репозиторий в качестве пользовательского источника.

3. **Добавьте репозиторий**:
   Введите URL-адрес репозитория: `https://github.com/Jarnsen/ha-xsense-component_test`

   ![image](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/48c23cf0-a212-4889-8d08-f995ff2fd5d7)

4. **Загрузите и установите интеграцию**:
   Найдите интеграцию в HACS, загрузите и установите ее. После установки настройка может быть выполнена через интерфейс Home Assistant.

   ![image](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/5bd2d567-6568-47c5-a45e-6af7228ff30e)
   ![image](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/33cd7bfa-eec2-44f5-af30-4f21269f0081)

____________________________________________________________

## Настройка
После установки необходима базовая настройка для правильной интеграции:
- **Имя пользователя и пароль**: Используйте учетные данные вновь созданной учетной записи X-Sense для установления соединения.
- **Обзор устройств**: После успешной настройки общие устройства будут доступны в Home Assistant и могут использоваться для автоматизаций.

## Отображение в Home Assistant
После успешной установки и настройки интеграция будет видна в Home Assistant. Устройства будут доступны на панели управления и могут использоваться для автоматизаций, уведомлений и других приложений.

![image](https://github.com/Elwinmage/ha-xsense-component/assets/15807572/50bbafde-c94b-445e-9aa3-9c33d5f151d6)

____________________________________________________________

## Поддерживаемые устройства
Эта интеграция поддерживает различные устройства Xsense. Ниже приведен список подтвержденных и протестированных устройств:
- **Базовая станция (SBS50)**: Центральный хаб для устройств Xsense.
- **Датчик температуры (XH02-M)**: Обнаружение необычно высоких температур.
- **Датчик угарного газа (XC01-M; XC04-WX)**: Обнаруживает опасные концентрации угарного газа.
- **Датчик дыма (XS01-M, WX; XS03-WX; XS0B-MR)**: Раннее обнаружение дыма.
- **Комбинированный датчик угарного газа и дыма (SC07-WX; XP0A-MR (частично поддерживается))**: Обнаруживает как угарный газ, так и дым.
- **Датчик воды (SWS51)**: Обнаруживает наличие воды в нежелательных местах.
- **Гигрометр-термометр (STH51)**: Мониторинг температуры и влажности.

Эти устройства, после интеграции в Home Assistant, могут использоваться для автоматизаций и предупреждений.

____________________________________________________________

## Примеры автоматизаций
С помощью этой интеграции можно создавать различные автоматизации. Вот несколько примеров:

### Пример 1: Оповещение о температуре
Когда температура термометра Xsense слишком высокая, отправляется уведомление:
```yaml
automation:
  - alias: "Оповещение о температуре Xsense"
    trigger:
      platform: numeric_state
      entity_id: sensor.xsense_temperature
      above: 30
    action:
      service: notify.notify
      data:
        message: "Температура превышает 30 градусов!"
```

### Пример 2: Тревога датчика воды
Когда датчик воды обнаруживает воду, срабатывает тревога:
```yaml
automation:
  - alias: "Тревога датчика воды"
    trigger:
      platform: state
      entity_id: binary_sensor.xsense_waterleak
      to: "on"
    action:
      service: notify.notify
      data:
        message: "Обнаружена утечка воды!"
```

____________________________________________________________

## Нам нужна ваша помощь
Мы всегда ищем поддержку для дальнейшего развития и улучшения этой интеграции. Вот несколько способов, как вы можете помочь:

1. **Тестирование устройств**: Если у вас есть устройство Xsense, которое работает с интеграцией, сообщите нам, чтобы мы могли добавить его в список поддерживаемых устройств.

2. **Поддержка для неподдерживаемых устройств**: Если устройство не работает, сообщите нам, чтобы мы могли оказать поддержку или интегрировать его в будущие версии.

3. **Совместное использование устройств**: Лучший способ тестирования новых устройств — это поделиться устройством через приложение X-Sense.

Для обсуждений и поддержки вы можете присоединиться к нашему серверу Discord или форуму Home Assistant:

[Discord](https://discord.gg/5phHHgGb3V)

[Форум](https://community.home-assistant.io/t/x-sense-security-is-it-possible-to-create-an-integration/534119/110)
